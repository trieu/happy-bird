<!DOCTYPE html>
<html lang="en">
   <head>
      <title>Happy Bird</title>
      <meta http-equiv="content-type" content="text/html; charset=utf-8" />
      <meta name="author" content="Nebez Briefkani" />
      <meta name="description" content="play floppy bird. a remake of popular game flappy bird using just html/css/js" />
      <meta name="keywords" content="flappybird,flappy,bird,floppybird,floppy,html,html5,css,css3,js,javascript,jquery,github,nebez,briefkani,nebezb,open,source,opensource" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />

      <!-- Open Graph tags -->
      <meta property="og:title" content="Happy Bird" />
      <meta property="og:description" content="play Happy bird. a remake of popular game flappy bird using just html/css/js" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="http://nebez.github.io/floppybird/assets/thumb.png" />
      <meta property="og:url" content="http://nebez.github.io/floppybird/" />
      <meta property="og:site_name" content="Floppy Bird" />

      <script src="js/jquery.min.js"></script>
      <script src="js/jquery.transit.min.js"></script>

      
      <!-- Style sheets -->
      <link href="css/reset.css" rel="stylesheet">
      
   </head>
   <body>
      <div id="gamecontainer">
         <div id="gamescreen">
            <div id="sky" class="animated">
               <div id="flyarea">
                  <div id="ceiling" class="animated"></div>
                  <!-- This is the flying and pipe area container -->
                  <div id="player" class="bird animated"></div>
                  
                  <div id="bigscore"></div>
                  
                  <div id="splash"></div>
                  
                  <div id="scoreboard">
                     <div id="medal"></div>
                     <div id="currentscore"></div>
                     <div id="highscore"></div>
                     <div id="replay"><img src="assets/replay.png" alt="replay"></div>
                  </div>
                  
                  <!-- Pipes go here! -->
               </div>
            </div>
            <div id="land" class="animated"><div id="debug"></div></div>
         </div>
      </div>
      <div id="footer">
      	<span id="test" style="font-size: 200%; font-weight: bold; color:black;" >The control was chosen!</span>

         <a href="http://www.dotgears.com/">original game/concept/art by dong nguyen</a>
         <a href="http://nebezb.com/">recreated by nebez briefkani</a>
         <a href="http://github.com/nebez/floppybird/">view github project</a>
         
      </div>
      <div class="boundingbox" id="playerbox"></div>
      <div class="boundingbox" id="pipebox"></div>
    
    <!--
    <script src="js/buzz.min.js"></script><script src="js/main.js"></script>  
    -->

	<!-- AB test script -->
	<script src="http://localhost:3000/v1/abba.js"></script>
      
	<script type="text/javascript" charset="utf-8">
		
		function loadScripts(){
			$.getScript( "js/buzz.min.js", function() {
				$.getScript( "js/main.js");
			});
		}
		function loadCss(cssTag){
			$("head link[rel='stylesheet']").last().after(cssTag);
		}

		Abba('Happy-Bird')
		.control('Default-Happy-Bird',{ weight : 1 }, function(){
			var cssTag = '<link href="css/main.css" rel="stylesheet">';
			loadCss(cssTag);
			loadScripts();
		})
		.variant('Blue-Happy-Bird', { weight : 5 }, function() {
			$('#test').text('BLUE bird was chosen!').css({color:'blue'});
			var cssTag = '<link href="css/main2.css" rel="stylesheet">';
			$("head link[rel='stylesheet']").last().after(cssTag);
			loadCss(cssTag);
			loadScripts();
		})
		.variant('Red-Happy-Bird', { weight : 5	}, function() {
			$('#test').text('RED bird was chosen!').css({color:'red'});
			var cssTag = '<link href="css/main1.css" rel="stylesheet">';
			$("head link[rel='stylesheet']").last().after(cssTag);
			loadCss(cssTag);
			loadScripts();
		}).start();
	</script>

	<script>
		$('#replay > img').click(function(){
			console.log('complete');
			// On successful conversion
  			Abba('Happy-Bird').complete();
		});
  		
	</script>

   </body>
</html>